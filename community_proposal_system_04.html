<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åœ‹éš›èŠåœ’ç¤¾å€ç®¡ç†å§”å“¡æœƒææ¡ˆå¡«å¯«ç³»çµ±</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft JhengHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            animation: slideUp 0.8s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .header p {
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
            opacity: 0;
            animation: fadeInUp 0.6s ease-out forwards;
        }

        .section:nth-child(2) { animation-delay: 0.2s; }
        .section:nth-child(3) { animation-delay: 0.4s; }
        .section:nth-child(4) { animation-delay: 0.6s; }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-title {
            font-size: 1.5rem;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 0;
            height: 3px;
            background: #e74c3c;
            transition: width 0.3s ease;
        }

        .section:hover .section-title::after {
            width: 100px;
        }

        .proposal-item {
            background: white;
            border: 2px solid #ecf0f1;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .proposal-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(52, 152, 219, 0.1), transparent);
            transition: left 0.6s ease;
        }

        .proposal-item:hover {
            border-color: #3498db;
            box-shadow: 0 10px 30px rgba(52, 152, 219, 0.2);
            transform: translateY(-3px);
        }

        .proposal-item:hover::before {
            left: 100%;
        }

        .proposal-header {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin-bottom: 10px;
        }

        .checkbox-wrapper {
            position: relative;
            margin-top: 3px;
        }

        .checkbox-wrapper input[type="checkbox"] {
            width: 20px;
            height: 20px;
            opacity: 0;
            position: absolute;
        }

        .checkbox-custom {
            width: 20px;
            height: 20px;
            border: 2px solid #3498db;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .checkbox-wrapper input[type="checkbox"]:checked + .checkbox-custom {
            background: #3498db;
            border-color: #3498db;
            transform: scale(1.1);
        }

        .checkbox-wrapper input[type="checkbox"]:checked + .checkbox-custom::after {
            content: 'âœ“';
            color: white;
            font-weight: bold;
            font-size: 14px;
            animation: checkmark 0.3s ease;
        }

        @keyframes checkmark {
            from {
                opacity: 0;
                transform: scale(0);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .proposal-title {
            font-size: 1.1rem;
            font-weight: bold;
            color: #2c3e50;
            flex: 1;
        }

        .proposal-description {
            margin-left: 35px;
            color: #5d6d7e;
            line-height: 1.6;
            white-space: pre-line;
        }

        .proposal-description ol {
            padding-left: 0;
            margin: 0;
            list-style: none;
            counter-reset: proposal-counter;
        }

        .proposal-description li {
            counter-increment: proposal-counter;
            margin-bottom: 8px;
            padding-left: 0;
            position: relative;
        }

        .proposal-description li::before {
            content: counter(proposal-counter) ".";
            font-weight: bold;
            color: #3498db;
            margin-right: 8px;
            min-width: 20px;
            display: inline-block;
        }

        .add-proposal {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            border: none;
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(46, 204, 113, 0.3);
        }

        .add-proposal:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(46, 204, 113, 0.4);
        }

        .custom-proposal {
            background: #f8f9fa;
            border: 2px dashed #3498db;
            border-radius: 15px;
            padding: 20px;
            margin-top: 15px;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                max-height: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                max-height: 200px;
                transform: translateY(0);
            }
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #2c3e50;
        }

        .form-input, .form-textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ecf0f1;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-input:focus, .form-textarea:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 80px;
        }

        .signature-section {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
        }

        .signature-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .signature-input {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            placeholder-color: rgba(255, 255, 255, 0.7);
        }

        .signature-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .generate-pdf {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            border: none;
            color: white;
            padding: 20px 40px;
            border-radius: 50px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(231, 76, 60, 0.3);
            width: 100%;
            margin-top: 30px;
        }

        .generate-pdf:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(231, 76, 60, 0.4);
        }

        .generate-pdf:active {
            transform: translateY(0);
        }

        .remove-proposal {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 0.8rem;
            margin-left: 10px;
            transition: all 0.3s ease;
        }

        .remove-proposal:hover {
            background: #c0392b;
            transform: scale(1.05);
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .content {
                padding: 20px;
            }
            
            .signature-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>åœ‹éš›èŠåœ’ç®¡ç†å§”å“¡æœƒææ¡ˆå¡«å¯«ç³»çµ±</h1>
            <p>è«‹é¸æ“‡æ‚¨åŒæ„çš„ææ¡ˆé …ç›®ï¼Œæˆ–è‡ªè¨‚ææ¡ˆï¼Œä¸¦å®Œæˆç°½ç½²</p>
        </div>
        
        <div class="content">
            <div class="section">
                <h2 class="section-title">ğŸ“‹ ææ¡ˆé …ç›®æ¸…å–®</h2>
                <div id="proposalsList">
                    <!-- é è¨­ææ¡ˆé …ç›® -->
                    <div class="proposal-item">
                        <div class="proposal-header">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="proposal1">
                                <div class="checkbox-custom"></div>
                            </div>
                            <div class="proposal-title">åœ°ä¸‹å®¤æ¼æ°´ä¿®ç¹•èˆ‡ä¿å›º</div>
                        </div>
                        <div class="proposal-description">
                            1.å› æœ¬ç¤¾å€æ–¼äº¤å±‹åˆæœŸå³ç™¼ç”Ÿæ¼æ°´æƒ…æ³ï¼Œè¦æ±‚å»ºå•†ä»£è¡¨åˆ—å¸­ç®¡å§”æœƒï¼Œé€²è¡Œç¾æ³èˆ‡èª¿æŸ¥åŸå› èªªæ˜ã€‚
                            2.å»ºå•†æ‡‰æå‡ºçŸ­/ä¸­/é•·æœŸä¿®ç¹•è¨ˆç•«è®“ä½æˆ¶äº†è§£ã€‚
                            3.ä¿å›ºè¨ˆç®—èµ·å§‹æ—¥ï¼šå¾…ä¿®ç¹•å®Œæˆå¾Œç¶“è±ªé›¨æ¸¬è©¦ã€ç¬¬ä¸‰æ–¹å…¬æ­£å–®ä½é©—æ”¶ç„¡è™ï¼Œæ–¹å¯å•Ÿå‹•ä¿å›ºã€‚æ¼æ°´ä¿å›ºå¹´é™å»¶é•·è‡³èˆ‡çµæ§‹ç›¸åŒåäº”å¹´ï¼Œä¸¦ä»¥æ›¸é¢å½¢å¼æ­£å¼ç¢ºèªã€‚
                            4.å»ºå•†æ¯å¹´ä¸»å‹•æª¢æŸ¥åœ°ä¸‹å®¤æ¼æ°´åŠçµæ§‹å®‰å…¨æƒ…å½¢ï¼Œä¸¦å‡ºå…·å ±å‘Šæä¾›çµ¦ç®¡å§”æœƒã€‚
                            5.å»ºå•†æ‡‰æ¯æœˆå…¬å‘Š:åœ°ä¸‹å®¤æ˜¯å¦æœ‰æ–°æ¼æ°´æƒ…å½¢ã€æ¼æ°´ä¿®ç¹•é€²åº¦ã€‚é›¨å­£æœŸé–“æ‡‰èª¿æ•´ç‚ºæ¯é€±å…¬å‘Šã€‚
                        </div>
                    </div>

                    <div class="proposal-item">
                        <div class="proposal-header">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="proposal2">
                                <div class="checkbox-custom"></div>
                            </div>
                            <div class="proposal-title">å…¬è¨­ç¼ºå¤±è¿½è¹¤</div>
                        </div>
                        <div class="proposal-description">
                            1.æ‰€æœ‰å…¬è¨­ç¼ºå¤±ç”±å»ºå•†èˆ‡ç‰©æ¥­é€ å†Šå…¬å‘Šï¼Œæ–¼æ¯æœˆç®¡å§”æœƒæœƒè­°å ±å‘Šä¿®ç¹•é€²åº¦ã€‚
                            2.å…¬è¨­å·²é»äº¤ï¼Œä¿å›ºæœŸåƒ…ä¸€å¹´ï¼Œæ‡‰ç”±ç‰©æ¥­ç®¡ç†ä¸­å¿ƒè²¬æˆå°ˆäººï¼Œèˆ‡å»ºå•†æ¨æ´¾ä»£è¡¨é€²è¡Œé»äº¤å‰æ—¢å­˜ç¼ºå¤±ï¼Œä¸¦ä¸”å»ºæª”é€ å†Šï¼ˆé ˆèƒ½æ˜ç¢ºè¾¨è­˜ä½ç½®ã€æå£ç¨‹åº¦ã€ä¸¦ä¸”æ‹ç…§ä½è­‰ï¼‰ï¼Œå¾…å»ºå•†ä¿®ç¹•å¾Œç¶“ç”±ç®¡ç†å§”å“¡æœƒæˆ–è²¬æˆç¬¬ä¸‰æ–¹å–®ä½é©—æ”¶ç„¡è™å¾Œï¼Œæ–¹å¯ä½œç‚ºä¿å›ºèµ·å§‹æ—¥ã€‚ï¼ˆé€ å†Šè³‡æ–™ï¼Œå€æ¬Šäººä¿æœ‰æŸ¥é–±æ¬Šé™ï¼‰
                        </div>
                    </div>

                    <div class="proposal-item">
                        <div class="proposal-header">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="proposal3">
                                <div class="checkbox-custom"></div>
                            </div>
                            <div class="proposal-title">è¦–è½å®¤èˆ‡å…’ç«¥éŠæˆ²å®¤æ–¹æ¡ˆæ‰¿è«¾</div>
                        </div>
                        <div class="proposal-description">
                            é›–å»ºå•†è²ç¨±ä¾åˆç´„å¯è‡ªè¡Œè®Šæ›´å…¬è¨­ï¼Œç„¶åŸåˆç´„è¼‰æ˜æ‡‰æœ‰è¦–è½å®¤èˆ‡å…’ç«¥éŠæˆ²å®¤ï¼Œå³ä½¿ä¸€å¹´å¾Œå€æ¬Šæœƒæ±ºè­°ç¶­æŒç¾ç‹€ï¼Œå»ºå•†ä»æ‡‰æä¾›è£œå„Ÿï¼š
                            1.è£œå„Ÿé‡‘ç´å…¥å…¬ç©é‡‘ã€‚
                            2.æˆ–æ·»è³¼/è¨­ç½®ç›¸é—œè¨­å‚™æ–¼åŸç©ºé–“å…§ã€‚
                            3.å»ºè­°å§”å“¡æœƒæ‡‰ç©æ¥µä»£è¡¨ä½æˆ¶å‘å»ºå•†çˆ­å–æ‡‰æœ‰æ¬Šç›Šï¼Œç¶­è­·ç¤¾å€å…¬å…±è¨­æ–½ä¹‹å®Œæ•´èˆ‡ä½æˆ¶æ¬Šç›Šä¹‹ä¿éšœã€‚
                        </div>
                    </div>

                    <div class="proposal-item">
                        <div class="proposal-header">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="proposal4">
                                <div class="checkbox-custom"></div>
                            </div>
                            <div class="proposal-title">ç‰©æ¥­ç›¸é—œå•é¡Œ</div>
                        </div>
                        <div class="proposal-description">
                            1.èªªæ˜ç‰©æ¥­å·¥ä½œè·è²¬åŠæ¬Šè²¬ç¯„åœï¼Œæ•¬è«‹æ˜å®šä¸¦å…¬å‘Šå‘¨çŸ¥ã€‚ 
                            2.ç‰©æ¥­å“è³ªçš„æ”¹å–„ï¼Œè³‡æ·±äººå“¡ä¸¦ç„¡è³‡æ·±çš„æœå‹™ã€‚ï¼ˆåŒ…å«è¨Šæ¯å·²è®€ä¸å›ã€è¨Šæ¯ä¸æ¸…æ¥šã€æœƒè­°ç´€éŒ„æœªè©³å¯¦è¨˜è¼‰ç­‰ï¼‰ 
                            3.é›²ç«¯å¹³å°çš„è¨­ç½®ï¼Œé‡è¦è³‡è¨Šå…¬é–‹æ–¹å¼ã€‚ 
                            4.ç‰©æ¥­èˆ‡å¤–åŒ…äººåŠ›èªªæ˜ï¼ˆè‡³å°‘å«äººæ•¸ã€ç­è¡¨ã€æ¬Šè²¬åŠƒåˆ†ã€è–ªè³‡çµæ§‹ï¼‰ 
                            5.ä½æˆ¶åæ˜ å•é¡Œï¼Œæ‡‰ä¸»å‹•è¿½è¹¤åŠå›å ±ã€‚ 
                            6.ç‰©æ¥­é´é¸ã€æ›´æ›ã€æœªç¢ºå¯¦åŸ·è¡Œæ¥­å‹™æ™‚ç›¸é—œç½°å‰‡ï¼ˆä¾‹å¦‚æœªç›¡é€šçŸ¥ç¾©å‹™ï¼‰ã€‚ 
                            7.è²¡å‹™å ±è¡¨çš„è£½ä½œåŠå…¬é–‹ï¼Œæ‡‰å°Šé‡ç®¡ç†è¦ç´„è¦ç¯„ï¼Œé€²è¡Œå…¬å‘Šã€‚
                        </div>
                    </div>

                    <div class="proposal-item">
                        <div class="proposal-header">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="proposal5">
                                <div class="checkbox-custom"></div>
                            </div>
                            <div class="proposal-title">è»Šé“èˆ‡è¡Œäººå‹•ç·šå®‰å…¨</div>
                        </div>
                        <div class="proposal-description">
                            1.åœ°ä¸‹è»Šé“éœ€æ˜ç¢ºåŠƒè¨­è¡Œè»Šç·šèˆ‡è»Šä½å€éš”ã€‚ 
                            2.æ¢¯å»³è‡³è»Šé“é–“è¡Œäººè­¦ç¤ºéœ€æ¸…æ™°æ˜é¡¯ï¼Œé¿å…è»Šç¦é¢¨éšªã€‚
                        </div>
                    </div>

                    <div class="proposal-item">
                        <div class="proposal-header">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="proposal6">
                                <div class="checkbox-custom"></div>
                            </div>
                            <div class="proposal-title">å…¬è¨­ç©ºé–“èˆ‡è¨­å‚™å®Œå–„</div>
                        </div>
                        <div class="proposal-description">
                            1.å®¶åº­å¨›æ¨‚å®¤è¨­å‚™è²§ä¹ï¼Œå»ºå•†æ‡‰è£œè¶³å¦‚ï¼šé›»ç©ã€éŸ³éŸ¿ã€æ¡ŒéŠç­‰ã€‚ 
                            2.å¥èº«æˆ¿è·‘æ­¥æ©Ÿä¸è¶³ï¼Œæ‡‰è‡³å°‘å¢è¨­ä¸€å°ï¼›é‡è¨“å€éœ€å¤§é¢é¡å­ã€‚ 
                            3.å®¶æ•™å®¤æ‡‰è£œè¨­è­·çœ¼æª¯ç‡ˆèˆ‡é›»å­ç™½æ¿ç­‰æ•™å­¸è¨­å‚™ã€‚ 
                            4.ç‚ºåˆ©æœ¬æ¡ˆå¾ŒçºŒæ¨å‹•ï¼Œæ•¬è«‹å§”å“¡æœƒå”åŠ©æ˜ç¢ºèªªæ˜å»ºå•†ä¹‹è¨­è¨ˆè¦åŠƒå…§å®¹ï¼Œä¸¦é‡æ¸…å…¶ç›¸é—œè²»ç”¨ç”±èª°è² æ“”ã€‚
                        </div>
                    </div>

                    <div class="proposal-item">
                        <div class="proposal-header">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="proposal7">
                                <div class="checkbox-custom"></div>
                            </div>
                            <div class="proposal-title">æ³³æ± éš±ç§å•é¡Œ</div>
                        </div>
                        <div class="proposal-description">
                            éœ²å¤©æ³³æ± æ˜“è¢«é€å¤©ä½æˆ¶çœ‹è¦‹ï¼Œå»ºå•†æ–¼2æœˆæ‰¿è«¾æ”¹å–„ï¼Œè‡³ä»Šç„¡é€²åº¦ï¼Œè«‹å§”å“¡æœƒè¦æ±‚å»ºå•†æŒ‡æ´¾ä»£è¡¨ï¼Œæ–¼ä¸ƒæœˆä»½ç®¡ç†å§”å“¡æœƒé–‹æœƒæ™‚ï¼Œé€²è¡Œæ”¹å–„æ–¹æ¡ˆåŠæ”¹å–„é€²åº¦èªªæ˜ã€‚
                        </div>
                    </div>

                    <div class="proposal-item">
                        <div class="proposal-header">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="proposal8">
                                <div class="checkbox-custom"></div>
                            </div>
                            <div class="proposal-title">æœƒè­°ç™¼è¨€èº«ä»½èªªæ˜</div>
                        </div>
                        <div class="proposal-description">
                            æ‰€æœ‰èˆ‡æœƒäººå“¡ç™¼è¨€å‰æ‡‰èªªæ˜èº«ä»½ï¼ˆå»ºå•†/ç‰©æ¥­/å§”å“¡ï¼‰ï¼Œé¿å…æ··æ·†èˆ‡èª¤è§£ã€‚ä¾‹å¦‚ï¼šç‰©æ¥­æ›¾æ“…è‡ªæ‰¿è«¾ 5+5+5+5 å¹´é˜²æ°´ä¿å›ºï¼Œèˆ‡å»ºå•†å¯¦éš›æ‰¿è«¾ä¸ç¬¦ã€‚
                        </div>
                    </div>

                    <div class="proposal-item">
                        <div class="proposal-header">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="proposal9">
                                <div class="checkbox-custom"></div>
                            </div>
                            <div class="proposal-title">æœƒè­°ä»£è¡¨(æœƒè­°åƒèˆ‡)èˆ‡è¡¨æ±ºåˆæ³•æ€§</div>
                        </div>
                        <div class="proposal-description">
                            æ ¹æ“šã€Šå¯¶è¼åœ‹éš›èŠåœ’ä½å®…åŠç”Ÿæ´»å»£å ´è¦ç´„(çµ„ç¹”å ±å‚™ç‰ˆ)ã€‹ 
                            1.å€åˆ†æ‰€æœ‰æ¬Šäººæœƒè­°ï¼š 
                              - é…å¶å¯ä»¥ä»£ç†å‡ºå¸­ï¼Œé ˆå…·å‚™æ›¸é¢å§”è¨—æ›¸ï¼Œä¾æ“šè¦ç´„ç¬¬å…­æ¢åŠç¬¬ä¸ƒæ¢è¦å®šã€‚ 
                            2.ç®¡ç†å§”å“¡æœƒæœƒè­°ï¼š 
                              - é…å¶ä¸å¾—ä»£ç†å‡ºå¸­ã€‚ 
                              - åƒ…é™å…¶ä»–ç®¡ç†å§”å“¡å¯æ›¸é¢ä»£ç†ï¼Œä¾æ“šç¬¬åå››æ¢ç¬¬ 5 é …è¦å®šã€‚
                            3.ç®¡å§”æœƒæœƒè­°æ‡‰æ–¼æœƒè­°æ—¥æœŸå‰ä¸ƒæ—¥å…¬å‘Šï¼Œä¸”ä¸æ‡‰é™åˆ¶ä½æˆ¶åƒèˆ‡ã€‚ 
                            4.è«‹å°‡æœƒè­°å®‰æ’æ–¼ä½æˆ¶è¼ƒæ˜“åƒèˆ‡ä¹‹éä¸Šç­æ™‚æ®µã€‚ 
                            5.å§”å“¡æœƒæ‡‰é‡è¦–éµå®ˆè¦ç´„åŠå‡ºå¸­è³‡æ ¼ï¼Œä»¥ç¢ºä¿æœƒè­°çµæœçš„å…¬æ­£æ€§èˆ‡æœ‰æ•ˆæ€§ã€‚
                        </div>
                    </div>
                    
                </div>
                
                <button class="add-proposal" onclick="addCustomProposal()">
                    â• æ–°å¢è‡ªè¨‚ææ¡ˆ
                </button>
            </div>

            <div class="section signature-section">
                <h2 class="section-title" style="color: white; border-bottom-color: rgba(255,255,255,0.3);">âœï¸ ç°½ç½²è³‡è¨Š</h2>
                <div class="signature-grid">
                    <div class="form-group">
                        <label class="form-label">ä½æˆ¶å§“å</label>
                        <input type="text" id="residentName" class="form-input signature-input" placeholder="è«‹è¼¸å…¥æ‚¨çš„å§“å">
                    </div>
                    <div class="form-group">
                        <label class="form-label">æˆ¶è™Ÿ</label>
                        <input type="text" id="unitNumber" class="form-input signature-input" placeholder="è«‹è¼¸å…¥æˆ¶è™Ÿï¼ˆå¦‚ï¼šAæ£Ÿ12æ¨“3è™Ÿï¼‰">
                    </div>
                </div>
                
                <button class="generate-pdf" onclick="generatePDF()">
                    ğŸ“„ ç”ŸæˆPDFææ¡ˆå–®
                </button>
            </div>
        </div>
    </div>

    <script>
        let customProposalCount = 0;

        function addCustomProposal() {
            customProposalCount++;
            const proposalId = `custom${customProposalCount}`;
            
            const customProposalHTML = `
                <div class="custom-proposal" id="customProposal${customProposalCount}">
                    <div class="form-group">
                        <label class="form-label">ææ¡ˆä¸»æ—¨</label>
                        <input type="text" id="${proposalId}Title" class="form-input" placeholder="è«‹è¼¸å…¥ææ¡ˆä¸»æ—¨">
                    </div>
                    <div class="form-group">
                        <label class="form-label">è©³ç´°èªªæ˜</label>
                        <textarea id="${proposalId}Description" class="form-textarea" placeholder="è«‹è©³ç´°èªªæ˜ææ¡ˆå…§å®¹ã€ç†ç”±åŠé æœŸæ•ˆç›Š"></textarea>
                    </div>
                    <button class="remove-proposal" onclick="removeCustomProposal(${customProposalCount})">
                        ğŸ—‘ï¸ ç§»é™¤æ­¤ææ¡ˆ
                    </button>
                </div>
            `;
            
            document.getElementById('proposalsList').insertAdjacentHTML('beforeend', customProposalHTML);
        }

        function removeCustomProposal(id) {
            const proposalElement = document.getElementById(`customProposal${id}`);
            proposalElement.style.animation = 'slideUp 0.3s ease-out reverse';
            setTimeout(() => {
                proposalElement.remove();
            }, 300);
        }

        async function generatePDF() {
            const residentName = document.getElementById('residentName').value;
            const unitNumber = document.getElementById('unitNumber').value;
            
            if (!residentName || !unitNumber) {
                alert('è«‹å¡«å¯«å®Œæ•´çš„å§“åå’Œæˆ¶è™Ÿè³‡è¨Š');
                return;
            }

            // å‰µå»ºä¸€å€‹éš±è—çš„PDFå…§å®¹å®¹å™¨
            const pdfContent = createPDFContent(residentName, unitNumber);
            document.body.appendChild(pdfContent);

            try {
                // ä½¿ç”¨html2canvaså°‡HTMLè½‰æ›ç‚ºåœ–ç‰‡ï¼Œå†è½‰ç‚ºPDF
                const canvas = await html2canvas(pdfContent, {
                    scale: 2,
                    useCORS: true,
                    allowTaint: true,
                    backgroundColor: '#ffffff'
                });

                const { jsPDF } = window.jspdf;
                const doc = new jsPDF({
                    orientation: 'portrait',
                    unit: 'mm',
                    format: 'a4'
                });

                const imgData = canvas.toDataURL('image/png');
                const imgWidth = 210; // A4 å¯¬åº¦
                const imgHeight = (canvas.height * imgWidth) / canvas.width;
                
                let heightLeft = imgHeight;
                let position = 0;

                // ç¬¬ä¸€é 
                doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                heightLeft -= 297; // A4 é«˜åº¦

                // å¦‚æœå…§å®¹è¶…éä¸€é ï¼Œæ·»åŠ æ–°é é¢
                while (heightLeft >= 0) {
                    position = heightLeft - imgHeight;
                    doc.addPage();
                    doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                    heightLeft -= 297;
                }

                // ç§»é™¤è‡¨æ™‚å®¹å™¨
                document.body.removeChild(pdfContent);
                
                // ä¸‹è¼‰PDF
                doc.save(`ç¤¾å€ææ¡ˆå–®_${residentName}_${unitNumber}_${new Date().toISOString().slice(0,10)}.pdf`);
                
            } catch (error) {
                console.error('PDFç”Ÿæˆå¤±æ•—:', error);
                alert('PDFç”Ÿæˆå¤±æ•—ï¼Œè«‹é‡è©¦');
                document.body.removeChild(pdfContent);
            }
        }

        function createPDFContent(residentName, unitNumber) {
            const container = document.createElement('div');
            container.style.cssText = `
                position: fixed;
                top: -9999px;
                left: -9999px;
                width: 800px;
                padding: 40px;
                background: white;
                font-family: 'Microsoft JhengHei', Arial, sans-serif;
                font-size: 14px;
                line-height: 1.6;
                color: #333;
            `;

            let proposalNumber = 1;
            let agregedProposals = '';

            // æ”¶é›†å·²å‹¾é¸çš„åŸæœ‰ææ¡ˆ
            for (let i = 1; i <= 12; i++) {
                const checkbox = document.getElementById(`proposal${i}`);
                if (checkbox && checkbox.checked) {
                    const proposalItem = checkbox.closest('.proposal-item');
                    const title = proposalItem.querySelector('.proposal-title').textContent;
                    const description = proposalItem.querySelector('.proposal-description').textContent;
                    
                    agregedProposals += `
                        <div style="margin-bottom: 20px; page-break-inside: avoid;">
                            <div style="font-weight: bold; margin-bottom: 8px; color: #2c3e50;">
                                ${proposalNumber}. ${title}
                            </div>
                            <div style="margin-left: 20px; color: #5d6d7e; text-align: justify;">
                                ${description}
                            </div>
                        </div>
                    `;
                    proposalNumber++;
                }
            }

            // æ”¶é›†è‡ªè¨‚ææ¡ˆ
            for (let i = 1; i <= customProposalCount; i++) {
                const titleElement = document.getElementById(`custom${i}Title`);
                const descElement = document.getElementById(`custom${i}Description`);
                
                if (titleElement && descElement && titleElement.value && descElement.value) {
                    agregedProposals += `
                        <div style="margin-bottom: 20px; page-break-inside: avoid;">
                            <div style="font-weight: bold; margin-bottom: 8px; color: #2c3e50;">
                                ${proposalNumber}. ${titleElement.value}
                            </div>
                            <div style="margin-left: 20px; color: #5d6d7e; text-align: justify;">
                                ${descElement.value}
                            </div>
                        </div>
                    `;
                    proposalNumber++;
                }
            }

            container.innerHTML = `
                <div style="text-align: center; margin-bottom: 40px; border-bottom: 3px solid #3498db; padding-bottom: 20px;">
                    <h1 style="font-size: 24px; color: #2c3e50; margin-bottom: 10px;">ç¤¾å€ç®¡ç†å§”å“¡æœƒææ¡ˆå–®</h1>
                    <p style="color: #7f8c8d; font-size: 16px;">Community Management Committee Proposal Form</p>
                </div>

                <div style="margin-bottom: 30px; background-color: #f8f9fa; padding: 20px; border-radius: 8px;">
                    <h3 style="color: #2c3e50; margin-bottom: 15px; border-bottom: 2px solid #3498db; padding-bottom: 5px;">ä½æˆ¶è³‡è¨Š Resident Information</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div><strong>ä½æˆ¶å§“å Name:</strong> ${residentName}</div>
                        <div><strong>æˆ¶è™Ÿ Unit:</strong> ${unitNumber}</div>
                    </div>
                    <div style="margin-top: 15px;"><strong>å¡«å¯«æ—¥æœŸ Date:</strong> ${new Date().toLocaleDateString('zh-TW')}</div>
                </div>

                <div style="margin-bottom: 30px;">
                    <h3 style="color: #2c3e50; margin-bottom: 20px; border-bottom: 2px solid #e74c3c; padding-bottom: 5px;">åŒæ„ææ¡ˆ Agreed Proposals</h3>
                    ${agregedProposals || '<p style="color: #7f8c8d; font-style: italic;">å°šæœªé¸æ“‡ä»»ä½•ææ¡ˆ No proposals selected</p>'}
                </div>

                <div style="margin-top: 50px; border-top: 2px solid #bdc3c7; padding-top: 30px;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <strong>ä½æˆ¶ç°½å Resident Signature:</strong>
                            <div style="border-bottom: 2px solid #333; width: 200px; margin-top: 20px; height: 2px;"></div>
                        </div>
                        <div style="text-align: right; color: #7f8c8d;">
                            <div>æ­¤ææ¡ˆå–®å·²æ–¼ ${new Date().toLocaleDateString('zh-TW')} ç”Ÿæˆ</div>
                            <div style="font-size: 12px; margin-top: 5px;">Generated on ${new Date().toLocaleDateString('en-US')}</div>
                        </div>
                    </div>
                </div>
            `;

            return container;
        }

        // é é¢è¼‰å…¥å‹•ç•«
        window.addEventListener('load', function() {
            document.body.style.opacity = '0';
            document.body.style.transition = 'opacity 0.5s ease';
            setTimeout(() => {
                document.body.style.opacity = '1';
            }, 100);
        });
    </script>
</body>
</html>